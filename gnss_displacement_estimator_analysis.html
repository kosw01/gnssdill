<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GNSS DLL ì½”ë“œ ë¶„ì„ ë¬¸ì„œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 5px solid #667eea;
        }

        h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        h3 {
            color: #34495e;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        h4 {
            color: #667eea;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
        }

        .file-info {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            color: #1565c0;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid #3d3d3d;
            position: relative;
        }

        .code-block::before {
            content: attr(data-file);
            display: block;
            background: #444;
            color: #fff;
            padding: 5px 10px;
            margin: -20px -20px 15px -20px;
            border-radius: 5px 5px 0 0;
            font-size: 0.9em;
        }

        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-top: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .file-list {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .flow-diagram {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }

        .flow-step {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 15px 25px;
            margin: 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .arrow {
            display: inline-block;
            color: #667eea;
            font-size: 1.5em;
            font-weight: bold;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .tag {
            display: inline-block;
            padding: 4px 12px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 5px 5px 5px 0;
        }

        .file-tag {
            display: inline-block;
            padding: 6px 12px;
            background: #4caf50;
            color: white;
            border-radius: 20px;
            font-size: 0.85em;
            margin: 5px 5px 5px 0;
            font-weight: bold;
        }

        .footer {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“¡ GNSS DLL ì½”ë“œ ë¶„ì„</h1>
            <p class="subtitle">ì˜ì¢…ëŒ€êµ êµ¬ì¡°ë¬¼ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ - ë³€ìœ„ ì¶”ì • ì•Œê³ ë¦¬ì¦˜</p>
        </header>

        <div class="content">
            <!-- ê°œìš” -->
            <div class="section">
                <h2>ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”</h2>
                <p>
                    ì´ í”„ë¡œì íŠ¸ëŠ” <span class="highlight">GNSS(ìœ„ì„±í•­ë²•ì‹œìŠ¤í…œ) ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” C++ DLL í”„ë¡œì íŠ¸</span>ì…ë‹ˆë‹¤. 
                    ì˜ì¢…ëŒ€êµì˜ êµ¬ì¡°ë¬¼ ëª¨ë‹ˆí„°ë§ì„ ìœ„í•´ ì‹¤ì‹œê°„ ë³€ìœ„ë¥¼ ì¶”ì •í•©ë‹ˆë‹¤.
                </p>
                <p>
                    <strong>ì£¼ìš” ëª©ì :</strong> IMU(ê°€ì†ë„ê³„) ë°ì´í„°ì™€ RTK GPS(Real-Time Kinematic GPS) ë°ì´í„°ë¥¼ ìœµí•©í•˜ì—¬ 
                    ì •ë°€í•œ ë³€ìœ„(displacement)ë¥¼ ì¶”ì •í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
                </p>
            </div>

            <!-- êµ¬ì¡° -->
            <div class="section">
                <h2>ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>ğŸ“ Matrix í´ë˜ìŠ¤</h4>
                        <div class="file-info">
                            ğŸ“ íŒŒì¼: Matrix.h, Matrix.cpp
                        </div>
                        <p><strong>ì—­í• :</strong> ìˆ˜í•™ì  í–‰ë ¬ ì—°ì‚° ìˆ˜í–‰</p>
                        <ul>
                            <li>í–‰ë ¬ ì‚¬ì¹™ì—°ì‚° (+,-,*,/ ì˜¤ë²„ë¡œë”©)</li>
                            <li>ì „ì¹˜í–‰ë ¬ (transpose)</li>
                            <li>ì—­í–‰ë ¬ ê³„ì‚° (inv)</li>
                            <li>3D ê³µê°„ íšŒì „ ë³€í™˜</li>
                            <li>ìµœëŒ€ 16ê°œ ìš”ì†Œ ì§€ì›</li>
                        </ul>
                        <div class="file-list">
                            <strong>ì£¼ìš” í•¨ìˆ˜ (Matrix.cpp):</strong><br>
                            â€¢ CMatrix::operator+ (í–‰ë ¬ ë§ì…ˆ, 84-96ë¼ì¸)<br>
                            â€¢ CMatrix::transpose() (ì „ì¹˜, 181-195ë¼ì¸)<br>
                            â€¢ CMatrix::inv() (ì—­í–‰ë ¬, 198-238ë¼ì¸)<br>
                            â€¢ CMatrix::transform() (íšŒì „ë³€í™˜, 241-266ë¼ì¸)
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>ğŸ”¬ CMdata í´ë˜ìŠ¤</h4>
                        <div class="file-info">
                            ğŸ“ íŒŒì¼: Mdata.h, Mdata.cpp
                        </div>
                        <p><strong>ì—­í• :</strong> ì¸¡ì • ë°ì´í„° ì „ì²˜ë¦¬</p>
                        <ul>
                            <li>Butterworth ì €ì—­ í†µê³¼ í•„í„°</li>
                            <li>Butterworth ê³ ì—­ í†µê³¼ í•„í„°</li>
                            <li>HDR(Heritage Dynamic Record) ì²˜ë¦¬</li>
                            <li>GPS ê³ ì • ìƒíƒœì— ë”°ë¥¸ í•„í„° ì ìš©</li>
                            <li>ê°€ì†ë„ê³„ ë°ì´í„° í ê´€ë¦¬</li>
                        </ul>
                        <div class="file-list">
                            <strong>ì£¼ìš” í•¨ìˆ˜ (Mdata.cpp):</strong><br>
                            â€¢ CMdata::SetVal() (ë°ì´í„° ì…ë ¥, 44-70ë¼ì¸)<br>
                            â€¢ CMdata::ButterworthLowpassAcc() (ì €ì—­í†µê³¼, 100-127ë¼ì¸)<br>
                            â€¢ CMdata::ButterworthHighpassGPS() (ê³ ì—­í†µê³¼, 130-183ë¼ì¸)<br>
                            â€¢ CMdata::HDR() (HDR ì²˜ë¦¬, 186-252ë¼ì¸)
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>ğŸ“Š CEdata í´ë˜ìŠ¤</h4>
                        <div class="file-info">
                            ğŸ“ íŒŒì¼: Edata.h, Edata.cpp
                        </div>
                        <p><strong>ì—­í• :</strong> ë³€ìœ„ ì¶”ì • (Estimation)</p>
                        <ul>
                            <li>2ë‹¨ê³„ ì¹¼ë§Œ í•„í„°</li>
                            <li>ê°€ì†ë„ â†’ ì†ë„ â†’ ë³€ìœ„ ì¶”ì •</li>
                            <li>GPS ê³ ì • ì—¬ë¶€ì— ë”°ë¥¸ ì¸¡ì • ëª¨ë¸</li>
                            <li>í¸í–¥(Bias) ì¶”ì • ë° ë³´ì •</li>
                            <li>ì‹¤ì‹œê°„ ìƒíƒœ ì¶”ì •</li>
                        </ul>
                        <div class="file-list">
                            <strong>ì£¼ìš” í•¨ìˆ˜ (Edata.cpp):</strong><br>
                            â€¢ CEdata::TwoStgKalmanAVD() (ì¹¼ë§Œí•„í„°, 87-148ë¼ì¸)<br>
                            â€¢ CEdata::PreEstimVel() (ì†ë„ì˜ˆì¸¡, 151-162ë¼ì¸)<br>
                            â€¢ CEdata::estimateDisp() (ë³€ìœ„ì¶”ì •, 165-259ë¼ì¸)
                        </div>
                    </div>

                    <div class="feature-card">
                        <h4>ğŸŒ GNSSDLL í´ë˜ìŠ¤</h4>
                        <div class="file-info">
                            ğŸ“ íŒŒì¼: GNSSDLL.h, GNSSDLL.cpp
                        </div>
                        <p><strong>ì—­í• :</strong> C# .NET ì¸í„°í˜ì´ìŠ¤</p>
                        <ul>
                            <li>ë‘ ê°œì˜ ì„¼ì„œ ì±„ë„ ì§€ì›</li>
                            <li>ì…ì¶œë ¥ íŒŒì¼ ì²˜ë¦¬</li>
                            <li>ë¬¸ìì—´ ê²½ë¡œ ë³€í™˜</li>
                            <li>CSV ë°ì´í„° ì½ê¸°/ì“°ê¸°</li>
                            <li>API ì—”ë“œí¬ì¸íŠ¸ ì œê³µ</li>
                        </ul>
                        <div class="file-list">
                            <strong>ì£¼ìš” í•¨ìˆ˜ (GNSSDLL.cpp):</strong><br>
                            â€¢ MyMathFuncs::DoConv() (ì„¼ì„œ1 ì²˜ë¦¬, 73-110ë¼ì¸)<br>
                            â€¢ MyMathFuncs::DoConv2() (ì„¼ì„œ2 ì²˜ë¦¬, 112-122ë¼ì¸)<br>
                            â€¢ ConvStrToPChar() (ë¬¸ìì—´ë³€í™˜, 61-70ë¼ì¸)
                        </div>
                    </div>
                </div>
            </div>

            <!-- ë°ì´í„° íë¦„ -->
            <div class="section">
                <h2>ğŸ”„ ë°ì´í„° ì²˜ë¦¬ íë¦„</h2>
                
                <div class="flow-diagram">
                    <div class="flow-step">1ï¸âƒ£ CSV ì…ë ¥</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">2ï¸âƒ£ ë°ì´í„° ì „ì²˜ë¦¬</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">3ï¸âƒ£ ì¹¼ë§Œ í•„í„°</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">4ï¸âƒ£ ë³€ìœ„ ì¶”ì •</div>
                    <span class="arrow">â†’</span>
                    <div class="flow-step">5ï¸âƒ£ CSV ì¶œë ¥</div>
                </div>

                <h3>ìƒì„¸ í”„ë¡œì„¸ìŠ¤</h3>
                <ol>
                    <li><strong>ì…ë ¥ ë°ì´í„°:</strong> CSV íŒŒì¼ë¡œë¶€í„° ì‹œê°„, RTK GPS ì¢Œí‘œ(X,Y,Z), ê°€ì†ë„ê³„ ë°ì´í„°(X,Y,Z), ê³ ì • ì—¬ë¶€(fix), ìœ„ì„± ìˆ˜, ì •ë°€ë„ ë“±ì„ ì½ìŠµë‹ˆë‹¤.
                        <div class="file-info">
                            ğŸ“„ íŒŒì¼: Edata.cpp - estimateDisp() í•¨ìˆ˜ (165-259ë¼ì¸)
                        </div>
                    </li>
                    <li><strong>ì „ì²˜ë¦¬ ë‹¨ê³„:</strong>
                        <ul>
                            <li>ê°€ì†ë„ê³„ ë°ì´í„°ì— Butterworth ì €ì—­ í†µê³¼ í•„í„° ì ìš©
                                <div class="file-info">
                                    ğŸ“„ Mdata.cpp - ButterworthLowpassAcc() (100-127ë¼ì¸)
                                </div>
                            </li>
                            <li>GPS ê³ ì •(fixed > 1) ìƒíƒœì¼ ê²½ìš° Butterworth ê³ ì—­ í†µê³¼ í•„í„° ë° HDR ì²˜ë¦¬
                                <div class="file-info">
                                    ğŸ“„ Mdata.cpp - HDR() (186-252ë¼ì¸)<br>
                                    ğŸ“„ Mdata.cpp - ButterworthHighpassGPS() (130-183ë¼ì¸)
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li><strong>ì¶”ì • ë‹¨ê³„:</strong>
                        <ul>
                            <li>GPS ê³ ì • ìƒíƒœì— ë”°ë¼ ì¸¡ì • ëª¨ë¸ ê²°ì • (3ì°¨ì› vs 2ì°¨ì›)</li>
                            <li>2ë‹¨ê³„ ì¹¼ë§Œ í•„í„°ë¥¼ í†µí•´ ë³€ìœ„, ì†ë„, ê°€ì†ë„ë¥¼ ì¶”ì •</li>
                            <li>í¸í–¥ ë³´ì • ì ìš©
                                <div class="file-info">
                                    ğŸ“„ Edata.cpp - TwoStgKalmanAVD() (87-148ë¼ì¸)
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li><strong>ì¶œë ¥:</strong> ì¶”ì •ëœ ë³€ìœ„, ì†ë„, ê°€ì†ë„ ë°ì´í„°ë¥¼ ìƒˆë¡œìš´ CSV íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
                        <div class="file-info">
                            ğŸ“„ Edata.cpp - estimateDisp() í•¨ìˆ˜ì˜ ì¶œë ¥ ë¶€ë¶„ (249-253ë¼ì¸)
                        </div>
                    </li>
                </ol>
            </div>

            <!-- í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ -->
            <div class="section">
                <h2>ğŸ§® í•µì‹¬ ì•Œê³ ë¦¬ì¦˜</h2>
                
                <h3>1. 2ë‹¨ê³„ ì¹¼ë§Œ í•„í„° (Two-Stage Kalman Filter)</h3>
                <p>ì¹¼ë§Œ í•„í„°ëŠ” ìƒíƒœ ë³€ìˆ˜(ê°€ì†ë„, ì†ë„, ë³€ìœ„)ë¥¼ ì¶”ì •í•©ë‹ˆë‹¤.</p>
                
                <div class="file-info">
                    ğŸ“„ Edata.cpp - TwoStgKalmanAVD() í•¨ìˆ˜ (87-148ë¼ì¸)
                </div>
                
                <div class="code-block" data-file="Edata.cpp - TwoStgKalmanAVD() í•¨ìˆ˜ (87-148ë¼ì¸)">
                    <pre>void CEdata::TwoStgKalmanAVD(CMdata mData)
{
    CMatrix y, Hd, Cd, Rd;
    
    for (int i = 0; i < 3; i++)
    {
        // measurement and observation matrix setting
        if (mData.mFixed == 1)
        {
            // 3ì°¨ì› ì¸¡ì •: GPS ìœ„ì¹˜ + ì†ë„ + ê°€ì†ë„
            double y_Val[3] = { mData.mPosRTK[i], pVel[i], mData.mACC[i] };
            y.setValue(3, 1, y_Val);
            Rd = R3[i];  // 3x3 ê³µë¶„ì‚° í–‰ë ¬
            Hd = Hd3;     // 3x3 ì¸¡ì • í–‰ë ¬
            Cd = Cd3;     // 3x2 ê°ë„ í–‰ë ¬
        }
        else
        {
            // 2ì°¨ì› ì¸¡ì •: ì†ë„ + ê°€ì†ë„ë§Œ
            double y_Val[2] = { pVel[i], mData.mACC[i] };
            y.setValue(2, 1, y_Val);
            Rd = R2[i];  // 2x2 ê³µë¶„ì‚° í–‰ë ¬
            Hd = Hd2;     // 2x3 ì¸¡ì • í–‰ë ¬
            Cd = Cd2;     // 2x2 ê°ë„ í–‰ë ¬
        }

        // PRIOR ESTIMATION
        // Bias free estimator(prior)
        xBF[i] = Ad * xBF[i];
        PBF[i] = Ad * PBF[i] * Ad.transpose() + Gd * Gd.transpose();
        
        // Sensitivity matrix calculation (prior)
        U[i] = Ad * V[i];

        // POSTERIOR ESTIMATION
        // Kalman gain calculation
        KBF[i] = PBF[i] * Hd.transpose() * (Hd * PBF[i] * Hd.transpose() + Rd).inv();
        
        // Sensitivity estimator
        S[i] = Hd * U[i] + Cd;
        r[i] = y - Hd * xBF[i];
        V[i] = U[i] - KBF[i] * S[i];
        
        // Bias estimator
        KBE[i] = PBE[i] * S[i].transpose() * 
                  (Hd * PBF[i] *Hd.transpose() + S[i] * PBE[i] * S[i].transpose() + Rd).inv();
        bBE[i] = bBE[i] + KBE[i] * (r[i] - S[i] * bBE[i]);
        PBE[i] = PBE[i] - KBE[i] * S[i] * PBE[i];
        
        // Bias free estimator
        xBF[i] = xBF[i] + KBF[i] * (y - Hd * xBF[i]);
        PBF[i] = PBF[i] - KBF[i] * Hd * PBF[i];

        // Sensitive estimator (final result)
        xSE[i] = xBF[i] + V[i] * bBE[i];

        // ê²°ê³¼ ì¶”ì¶œ
        eDis[i] = xSE[i].mat[0];  // ë³€ìœ„
        eVel[i] = xSE[i].mat[1];  // ì†ë„
        eACC[i] = mData.mACC[i];  // ê°€ì†ë„
    }
}</pre>
                </div>

                <h3>2. Butterworth í•„í„°</h3>
                <p>ì‹ í˜¸ ì²˜ë¦¬ì—ì„œ ë…¸ì´ì¦ˆë¥¼ ì œê±°í•˜ê³  ì£¼íŒŒìˆ˜ ì˜ì—­ì—ì„œ ë°ì´í„°ë¥¼ ì •ì œí•©ë‹ˆë‹¤.</p>
                
                <div class="file-info">
                    ğŸ“„ Mdata.cpp - ButterworthLowpassAcc() í•¨ìˆ˜ (100-127ë¼ì¸)
                </div>
                
                <div class="code-block" data-file="Mdata.cpp - ButterworthLowpassAcc() í•¨ìˆ˜ (100-127ë¼ì¸)">
                    <pre>void CMdata::ButterworthLowpassAcc(double accX, double accY, double accZ)
{
    double gain = 779.6778047;

    // ì…ë ¥ í ì‹œí”„íŠ¸
    for (int i = 0; i < 6; i++)
    {
        butter_low_acc_in_x[i] = butter_low_acc_in_x[i + 1];
        butter_low_acc_in_y[i] = butter_low_acc_in_y[i + 1];
        butter_low_acc_in_z[i] = butter_low_acc_in_z[i + 1];
        butter_low_acc_out_x[i] = butter_low_acc_out_x[i + 1];
        butter_low_acc_out_y[i] = butter_low_acc_out_y[i + 1];
        butter_low_acc_out_z[i] = butter_low_acc_out_z[i + 1];
    }

    // ìƒˆë¡œìš´ ì…ë ¥ ì¶”ê°€
    butter_low_acc_in_x[5] = accX / gain;
    butter_low_acc_in_y[5] = accY / gain;
    butter_low_acc_in_z[5] = accZ / gain;

    // FIR í•„í„° ê³„ìˆ˜ ì ìš© (IIR í˜•íƒœ)
    mACC[0] = butter_low_acc_out_x[5] = 
        (butter_low_acc_in_x[0] + butter_low_acc_in_x[5]) 
        + 5 * (butter_low_acc_in_x[1] + butter_low_acc_in_x[4])
        + 10 * (butter_low_acc_in_x[2] + butter_low_acc_in_x[3])
        + (0.1254306222 * butter_low_acc_out_x[0])
        + (-0.8811300754 * butter_low_acc_out_x[1])
        + (2.5452528683 * butter_low_acc_out_x[2])
        + (-3.8060181193 * butter_low_acc_out_x[3])
        + (2.9754221097 * butter_low_acc_out_x[4]);
    
    // Y, Z ì¶•ë„ ë™ì¼í•œ ì²˜ë¦¬
    ...
}</pre>
                </div>

                <h3>3. HDR (Heritage Dynamic Record)</h3>
                <p>GPS ë°ì´í„°ì˜ ë™ì  íŠ¹ì„±ì„ ë³´ì •í•˜ì—¬ ì•ˆì •ì ì¸ ë³€ìœ„ ì¶”ì •ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>
                
                <div class="file-info">
                    ğŸ“„ Mdata.cpp - HDR() í•¨ìˆ˜ (186-252ë¼ì¸)
                </div>
                
                <div class="code-block" data-file="Mdata.cpp - HDR() í•¨ìˆ˜ (186-252ë¼ì¸)">
                    <pre>void CMdata::HDR()
{
    // xì¶• HDR ì²˜ë¦¬
    hdr_out_x[0] = hdr_out_x[1];
    hdr_out_x[1] = mPosRTK[0] + hdr_I_x;
    mPosRTK[0] = hdr_out_x[1];

    // ê°€ì¤‘ì¹˜ ê³„ì‚°: ì„ê³„ê°’ ì´í•˜ì¼ ë•Œë§Œ ì ë¶„ ë³´ì •
    if (abs(mPosRTK[0]) < hdr_thres_x || abs(mACC[0]) < hdr_thres_x)
        hdr_W_x = 1.0;  // ë³´ì • í™œì„±í™”
    else
        hdr_W_x = 0.0;  // ë³´ì • ë¹„í™œì„±í™”

    // ë°˜ë³µ ê³„ìˆ˜ ê³„ì‚°: ë¶€í˜¸ ì¼ì¹˜ ì‹œ ëˆ„ì 
    if (GetSign(hdr_out_x[1]) == GetSign(hdr_out_x[0]))
    {
        hdr_r_x += 1.0;
        hdr_R_x = (1. + hdr_c1_x) / (1. + hdr_c1_x * pow(hdr_r_x, hdr_c2_x));
    }
    else
    {
        hdr_r_x = 1.0;
        hdr_R_x = 1.0;
    }
    
    // ì ë¶„ ë³´ì •
    hdr_I_x = hdr_I_x - hdr_W_x * hdr_R_x * GetSign(hdr_out_x[1]) * hdr_ic_x;

    // Y, Zì¶•ë„ ë™ì¼í•˜ê²Œ ì²˜ë¦¬
    ...
}</pre>
                </div>
            </div>

            <!-- íŠ¹ì§• -->
            <div class="section">
                <h2>âœ¨ ì‹œìŠ¤í…œ íŠ¹ì§•</h2>
                
                <table>
                    <thead>
                        <tr>
                            <th>íŠ¹ì§•</th>
                            <th>ì„¤ëª…</th>
                            <th>êµ¬í˜„ íŒŒì¼</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ì´ì¤‘ ì„¼ì„œ ì±„ë„</strong></td>
                            <td>ì˜ì¢…ëŒ€êµì˜ ë‘ ì§€ì ì„ ë™ì‹œì— ëª¨ë‹ˆí„°ë§</td>
                            <td>
                                <span class="file-tag">GNSSDLL.cpp</span><br>
                                DoConv() : ì„¼ì„œ1 (73-110ë¼ì¸)<br>
                                DoConv2() : ì„¼ì„œ2 (112-122ë¼ì¸)
                            </td>
                        </tr>
                        <tr>
                            <td><strong>GPS ê³ ì • ìƒíƒœ ìë™ ì „í™˜</strong></td>
                            <td>RTK ê³ ì • ì—¬ë¶€ì— ë”°ë¼ ì¸¡ì • ëª¨ë¸ì´ ìë™ìœ¼ë¡œ ë³€ê²½</td>
                            <td>
                                <span class="file-tag">Edata.cpp</span><br>
                                TwoStgKalmanAVD() (96-111ë¼ì¸)<br>
                                3ì°¨ì› vs 2ì°¨ì› ëª¨ë¸ ë¶„ê¸°
                            </td>
                        </tr>
                        <tr>
                            <td><strong>ì‹¤ì‹œê°„ í•„í„°ë§</strong></td>
                            <td>Butterworth í•„í„°ë¡œ ì‹¤ì‹œê°„ ë°ì´í„° ì •ì œ</td>
                            <td>
                                <span class="file-tag">Mdata.cpp</span><br>
                                ButterworthLowpassAcc() (100-127ë¼ì¸)<br>
                                ButterworthHighpassGPS() (130-183ë¼ì¸)
                            </td>
                        </tr>
                        <tr>
                            <td><strong>í¸í–¥ ë³´ì •</strong></td>
                            <td>2ë‹¨ê³„ ì¹¼ë§Œ í•„í„°ë¡œ ì„¼ì„œ í¸í–¥ ìë™ ì¶”ì • ë° ë³´ì •</td>
                            <td>
                                <span class="file-tag">Edata.cpp</span><br>
                                TwoStgKalmanAVD() (125-148ë¼ì¸)<br>
                                Bias Estimator êµ¬í˜„
                            </td>
                        </tr>
                        <tr>
                            <td><strong>C# ì¸í„°í˜ì´ìŠ¤</strong></td>
                            <td>.NET í™˜ê²½ì—ì„œ ì‰½ê²Œ ì‚¬ìš© ê°€ëŠ¥í•œ DLL</td>
                            <td>
                                <span class="file-tag">GNSSDLL.h</span><br>
                                <span class="file-tag">GNSSDLL.cpp</span><br>
                                MyMathFuncs í´ë˜ìŠ¤ (19-47ë¼ì¸)
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- íŒŒì¼ ì •ë³´ -->
            <div class="section">
                <h2>ğŸ“ ì£¼ìš” íŒŒì¼ ì •ë³´</h2>
                
                <table>
                    <thead>
                        <tr>
                            <th>íŒŒì¼ëª…</th>
                            <th>ë¼ì¸ ìˆ˜</th>
                            <th>ê¸°ëŠ¥</th>
                            <th>ì£¼ìš” í´ë˜ìŠ¤/í•¨ìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>GNSSDLL.cpp</code></td>
                            <td>144</td>
                            <td>ë©”ì¸ DLL ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸, C# ì¸í„°í˜ì´ìŠ¤</td>
                            <td>
                                â€¢ MyMathFuncs::DoConv() (73ë¼ì¸)<br>
                                â€¢ MyMathFuncs::DoConv2() (112ë¼ì¸)<br>
                                â€¢ ConvStrToPChar() (61ë¼ì¸)
                            </td>
                        </tr>
                        <tr>
                            <td><code>GNSSDLL.h</code></td>
                            <td>49</td>
                            <td>DLL í—¤ë”, API ì •ì˜</td>
                            <td>â€¢ MyMathFuncs í´ë˜ìŠ¤ ì •ì˜</td>
                        </tr>
                        <tr>
                            <td><code>Matrix.cpp</code></td>
                            <td>273</td>
                            <td>í–‰ë ¬ ì—°ì‚° êµ¬í˜„</td>
                            <td>
                                â€¢ operator+, -, *, / (84-178ë¼ì¸)<br>
                                â€¢ transpose() (181-195ë¼ì¸)<br>
                                â€¢ inv() (198-238ë¼ì¸)<br>
                                â€¢ transform() (241-266ë¼ì¸)
                            </td>
                        </tr>
                        <tr>
                            <td><code>Matrix.h</code></td>
                            <td>45</td>
                            <td>í–‰ë ¬ í´ë˜ìŠ¤ ì •ì˜</td>
                            <td>â€¢ CMatrix í´ë˜ìŠ¤ ì¸í„°í˜ì´ìŠ¤</td>
                        </tr>
                        <tr>
                            <td><code>Mdata.cpp</code></td>
                            <td>262</td>
                            <td>ë°ì´í„° ì „ì²˜ë¦¬ êµ¬í˜„</td>
                            <td>
                                â€¢ SetVal() (44ë¼ì¸)<br>
                                â€¢ ButterworthLowpassAcc() (100ë¼ì¸)<br>
                                â€¢ ButterworthHighpassGPS() (130ë¼ì¸)<br>
                                â€¢ HDR() (186ë¼ì¸)
                            </td>
                        </tr>
                        <tr>
                            <td><code>Mdata.h</code></td>
                            <td>49</td>
                            <td>ì „ì²˜ë¦¬ í´ë˜ìŠ¤ ì •ì˜</td>
                            <td>â€¢ CMdata í´ë˜ìŠ¤ ë° ë³€ìˆ˜ ì„ ì–¸</td>
                        </tr>
                        <tr>
                            <td><code>Edata.cpp</code></td>
                            <td>262</td>
                            <td>ë³€ìœ„ ì¶”ì • êµ¬í˜„</td>
                            <td>
                                â€¢ TwoStgKalmanAVD() (87ë¼ì¸)<br>
                                â€¢ PreEstimVel() (151ë¼ì¸)<br>
                                â€¢ estimateDisp() (165ë¼ì¸)
                            </td>
                        </tr>
                        <tr>
                            <td><code>Edata.h</code></td>
                            <td>47</td>
                            <td>ì¶”ì • í´ë˜ìŠ¤ ì •ì˜</td>
                            <td>â€¢ CEdata í´ë˜ìŠ¤ ë° ì¹¼ë§Œí•„í„° ë³€ìˆ˜ ì„ ì–¸</td>
                        </tr>
                        <tr>
                            <td><code>Stdafx.h</code></td>
                            <td>8</td>
                            <td>í‘œì¤€ í—¤ë” í¬í•¨</td>
                            <td>â€¢ ê³µí†µ í—¤ë”</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- ì‚¬ìš©ë²• -->
            <div class="section">
                <h2>ğŸ’» ì‚¬ìš© ë°©ë²•</h2>
                
                <h3>C#ì—ì„œ í˜¸ì¶œ ì˜ˆì‹œ</h3>
                <div class="file-info">
                    ğŸ“„ ì‚¬ìš© ì˜ˆì‹œ: C# í”„ë¡œì íŠ¸ì—ì„œ GNSSDLL.dll ì°¸ì¡°
                </div>
                <div class="code-block" data-file="C# ì‚¬ìš© ì˜ˆì‹œ">
                    <pre>using GNSSDLL;
using System;

class Program
{
    static void Main()
    {
        // ë³€í™˜ê¸° ì´ˆê¸°í™”
        MyMathFuncs.InitConveter(0);  // 0: Sensor 1, 1: Sensor 2

        // ë°ì´í„° ì²˜ë¦¬ - ì„¼ì„œ 1
        MyMathFuncs.DoConv(
            "C:\\Input\\",      // ì…ë ¥ í´ë” ê²½ë¡œ
            "C:\\Output\\",     // ì¶œë ¥ í´ë” ê²½ë¡œ
            "sensor_data.csv"   // ì…ë ¥ íŒŒì¼ëª…
        );

        // ë°ì´í„° ì²˜ë¦¬ - ì„¼ì„œ 2
        MyMathFuncs.DoConv2(
            "C:\\Input\\",
            "C:\\Output\\",
            "sensor_data2.csv"
        );
        
        Console.WriteLine("ì²˜ë¦¬ ì™„ë£Œ!");
    }
}</pre>
                </div>

                <h3>ì…ë ¥ CSV í˜•ì‹</h3>
                <div class="file-info">
                    ğŸ“„ format: Edata.cpp - estimateDisp() í•¨ìˆ˜ê°€ ì½ëŠ” í˜•ì‹ (217-226ë¼ì¸)
                </div>
                <div class="code-block" data-file="ì…ë ¥ CSV í˜•ì‹">
                    <pre>Time, RTK_X, RTK_Y, RTK_Z, Acc_X, Acc_Y, Acc_Z, Fix, NumSat, Precision
0.00, 123.456, 456.789, 789.123, 0.001, 0.002, 9.801, 2, 12, 0.005
0.01, 123.457, 456.790, 789.124, 0.002, 0.001, 9.802, 2, 12, 0.005
0.02, 123.458, 456.791, 789.125, 0.001, 0.001, 9.801, 2, 12, 0.005
...</pre>
                </div>

                <h3>ì¶œë ¥ CSV í˜•ì‹</h3>
                <div class="file-info">
                    ğŸ“„ format: Edata.cpp - estimateDisp() í•¨ìˆ˜ê°€ ì¶œë ¥í•˜ëŠ” í˜•ì‹ (249-253ë¼ì¸)
                </div>
                <div class="code-block" data-file="ì¶œë ¥ CSV í˜•ì‹">
                    <pre>Time, ACC_X, ACC_Y, ACC_Z, VEL_X, VEL_Y, VEL_Z, DIS_X, DIS_Y, DIS_Z
0.00, 0.001, 0.002, 9.801, 0.00005, 0.0001, 0.0, 0.0, 0.0, 0.0
0.01, 0.002, 0.001, 9.802, 0.0001, 0.00008, 0.0, 0.0, 0.0, 0.0
0.02, 0.001, 0.001, 9.801, 0.00015, 0.00007, 0.0, 0.0, 0.0, 0.0
...</pre>
                </div>
            </div>

            <!-- íƒœê·¸ -->
            <div class="section">
                <h3>ê¸°ìˆ  ìŠ¤íƒ</h3>
                <span class="tag">C++</span>
                <span class="tag">DLL</span>
                <span class="tag">.NET Framework</span>
                <span class="tag">GNSS</span>
                <span class="tag">IMU</span>
                <span class="tag">RTK GPS</span>
                <span class="tag">ì¹¼ë§Œ í•„í„°</span>
                <span class="tag">Butterworth í•„í„°</span>
                <span class="tag">êµ¬ì¡°ë¬¼ ëª¨ë‹ˆí„°ë§</span>
                <span class="tag">ë³€ìœ„ ì¶”ì •</span>
            </div>
        </div>

        <div class="footer">
            <p><strong>GNSS DLL ì½”ë“œ ë¶„ì„ ë¬¸ì„œ</strong></p>
            <p>ì˜ì¢…ëŒ€êµ êµ¬ì¡°ë¬¼ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</p>
            <p>Generated: 2024</p>
        </div>
    </div>
</body>
</html>
